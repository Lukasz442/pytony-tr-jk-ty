import random

# PRZECIWNICY
UDAgotki_hp = 30
Udagotki_atak = 30
Udagotki_dropzłota = 300

Błażej_hp = 60
Błażej_atak = 30
Błażej_dropzłota = 10

mahomed_hp = 30
mahomed_atak = 5
mahomed_dropzłota = -30

wiedzma_hp = 75
wiedzma_atak = 25
wiedzma_dropzłota = 50
wiedzma_mana = -40

paluszki_hp = 100
paluszki_atak = 100
paluszki_dropzłota = 80
paluszki_rozmowa = print("NIE POKONASZ MNIE ÓJÓ GARBATY")

dawid_hp = 200
dawid_atak = 50
dawid_drop = 200

transformers_hp = 150
transformers_atak = 40
transformers_drop = 150

goblin_hp = 50
goblin_atak = 20
goblin_drop = 25

tajemniczaistota_hp = 120
tajemniczaistota_atak = 35
tajemniczaistota_drop = 100

# POSTACIE
print(''' 
Wybierz postać:
a - elf
b - wodnik
c - krasnolud
d - SUPER_PLEMNICZEK
e - czarodziej 
''')
inp = input("Twój wybór: ")

if inp == "a":
    maxhp = 100
    hp = 100
    damage = 20
    kasa = 100
    mana = 200
    czardamage = 60

elif inp == "b":
    maxhp = 200
    hp = 160
    damage = 30
    kasa = 50
    mana = 50

elif inp == "c":
    maxhp = 180
    hp = 180
    damage = 40
    kasa = 200
    mana = 50

elif inp == "d":
    maxhp = 10000
    hp = 10000
    damage = 10000
    kasa = 0
    mana = 10000

elif inp == "e":
    maxhp = 120
    hp = 120
    damage = 10
    czardamage = 100
    kasa = 100
    mana = 250
    print("masz zjebane stawy w kolanach XD")

else:
    print("MASZ ELFA I SIĘ CIESZ")
    maxhp = 100
    hp = 100
    damage = 20
    kasa = 300
    mana = 200
    czardamage = 60

# SKLEP
def sklep():
    global hp, maxhp, damage, mana, kasa, czardamage, inp
    while True:
        print("--- SKLEP ---")
        print("Twoje złoto:", kasa)
        print("1 - LECZONKOOOOOOO (+30 HP) - 30 zł")
        print("2 - MANAAAAA (+30 many) - 20 zł")
        print("3 - DAMAGEEEE (+5 DMG) - 50 zł")
        if inp in ["a", "e"]:
            print("4 - DAMAGEEEEE CZARU (+20 DMG do czaru) - 70 zł")
        print("5 - pokorne wyjscie ze sklepu")
        print("6 - zestaw : +30 HP i +30 many - 45 zł")

        wybor = input("co chcesz kupic ")

        if wybor == "1":
            if kasa >= 30:
                kasa -= 30
                hp += 30
                if hp > maxhp:
                    hp = maxhp
                print("kupiłeś LECZONKOOOOOOO HP:", hp)
            else:
                print("WYPAD BIEDAKU!!!")

        elif wybor == "2":
            if kasa >= 20:
                kasa -= 20
                mana += 30
                print("kupiłeś MANAAAAA Mana:", mana)
            else:
                print("WYPAD BIEDAKU!!!")

        elif wybor == "3":
            if kasa >= 50:
                kasa -= 50
                damage += 5
                print("kupiłeś DAMAGEEEE Nowy DMG:", damage)
            else:
                print("WYPAD BIEDAKU!!!")

        elif wybor == "4" and inp in ["a", "e"]:
            if kasa >= 70:
                kasa -= 70
                czardamage += 20
                print("kupiłeś CZAR DAMAGEEEE Nowy DMG czaru:", czardamage)
            else:
                print("WYPAD BIEDAKU!!!")

        elif wybor == "5":
            print("Wychodzisz pokornie ze sklepu")
            break

        elif wybor == "6":
            if kasa >= 100:
                kasa -= 100
                hp += 30
                mana += 30
                if hp > maxhp:
                    hp = maxhp
                print("zestaw HP:", hp, "Mana:", mana)
            else:
                print("WYPAD BIEDAKU!!!")

        else:
            print("Zły wybór!")

# LOSOWANIE PRZECIWNIKA
def losuj_przeciwnika():
    przeciwnicy = ["udagotek", "blazej", "mahomed", "wiedzma", "paluszki", "dawid", "robot", "goblin", "troll"]
    return random.choice(przeciwnicy)

# WALKA
def walka():
    global hp, kasa, damage, mana, inp, czardamage

    przeciwnik = losuj_przeciwnika()

    if przeciwnik == "udagotek":
        php = UDAgotki_hp
        pompa = Udagotki_atak
        drop = Udagotki_dropzłota
        print("Udagotki cię atakują!")

    elif przeciwnik == "blazej":
        php = Błażej_hp
        pompa = Błażej_atak
        drop = Błażej_dropzłota
        print("Błażej cię atakuje!")

    elif przeciwnik == "mahomed":
        php = mahomed_hp
        pompa = mahomed_atak
        drop = mahomed_dropzłota
        print("Mahomed cię atakuje!")

    elif przeciwnik == "wiedzma":
        php = wiedzma_hp
        pompa = wiedzma_atak
        drop = wiedzma_dropzłota
        mana += wiedzma_mana
        print("Wiedźma cię atakuje!")

    elif przeciwnik == "paluszki":
        php = paluszki_hp
        pompa = paluszki_atak
        drop = paluszki_dropzłota
        print("JESTEM PALUSZKI SOLONE! NIE POKONASZ MNIE ÓJÓ GARBATY!")

    elif przeciwnik == "dawid":
        php = dawid_hp
        pompa = dawid_atak
        drop = dawid_drop
        print("dawid cię atakuje!")

    elif przeciwnik == "transformers":
        php = transformers_hp
        pompa = transformers_atak
        drop = transformers_drop
        print("transformers cię atakuje!")

    elif przeciwnik == "goblin":
        php = goblin_hp
        pompa = goblin_atak
        drop = goblin_drop
        print("goblin cię atakuje!")

    elif przeciwnik == "tajemniczaistota":
        php = tajemniczaistota_hp
        pompa = tajemniczaistota_atak
        drop = tajemniczaistota_drop
        print("tajemniczaistota cię atakuje!")

    print(f"{przeciwnik.upper()} ma {php} HP i zadaje {pompa} dmg!")

    koszt_ataku = 10
    koszt_czaru = 20

    while php > 0 and hp > 0:
        print("\n--- WALKA ---")
        print("Twoje HP:", hp)
        print("Twoja MANA:", mana)
        print("HP przeciwnika:", php)
        print("\na - atak (koszt 10 many)")
        print("b - ucieczka")
        if inp in ["a", "e"]:
            print("c - czar (koszt 20 many)")

        wybor = input("WHAT ARE YOU DOING SON ?! ")

        kryt = random.randint(1, 10)
        if kryt == 10:
            print("krytyczny atak x2 dmg")

        if wybor == "a":
            if mana >= koszt_ataku:
                mana -= koszt_ataku
                dmg = damage*2 if kryt == 10 else damage
                php -= dmg
                print(f"Zadałeś {dmg} obrażeń (mana: {mana})")
            else:
                print("Nie masz wystarczająco many")
                continue

        elif wybor == "c" and inp in ["a", "e"]:
            if mana >= koszt_czaru:
                mana -= koszt_czaru
                dmg = czardamage*2 if kryt == 10 else czardamage
                php -= dmg
                print(f"ruciłeś czar Zadajesz {dmg} DMG (mana: {mana})")
            else:
                print("Za mało many na czar")
                continue

        elif wybor == "b":
            print("pokornie uciekłes")
            return

        else:
            print("zle wybierasz...")
            continue

        if random.randint(1, 10) == 1 and php > 0:
            heal = random.randint(5, 20)
            php += heal
            print(f"Przeciwnik leczy się o {heal} HP")

        if php > 0:
            hp -= pompa
            print(f"Przeciwnik zadał {pompa} obrażeń")

    if hp <= 0:
        print("PRZEGRAŁES")
        exit()

    print("pokonałeś wroga")
    kasa += drop
    print("Zdobyłeś", drop, "złota")


# LOSOWE WYDARZENIA
def wydarzenia():
    global hp, mana, kasa
    los = random.randint(1, 7)
    if los == 1:
        print("spolondrowałes grobowiec jak zbok +50 złota")
        kasa += 50
    elif los == 2:
        print("wyjebałeś się jak przegryw i straciłeś 10 HP")
        hp -= 10
        if hp < 0:
            hp = 0
    elif los == 3:
        print("myjesz się i zdobywasz 20 many")
        mana += 20
    elif los == 4:
        print("przeczytałes list ze masz raka -20 HP")
        hp -= 20
        if hp < 0:
            hp = 0
    elif los == 5:
        print("znalazłes +10 złota")
        kasa += 10
    elif los == 6:
        print("wypiłes coś podejrzanego (kto wie co to) następna runda +10 HP")
        hp += 10
        if hp > maxhp:
            hp = maxhp
    elif los == 7:
        print("nasłuchałes się phonka - czary +10 DMG")
        if inp in ["a", "e"]:
            czardamage += 10


# MENU
while True:
    print("--- MENU ---")
    print("a - walka")
    print("b - sklep")
    print("c - statystyki")
    print("d - cos losowego XD")
    print("e - zakończ grę")
    wybor = input("WHAT ARE YOU GOING TO DO SON ?! ")

    if wybor == "a":
        walka()
    elif wybor == "b":
        sklep()
    elif wybor == "c":
        print("--- STATYSTYKI ---")
        print("HP:", hp, "/", maxhp)
        print("DMG:", damage)
        print("DMG czaru:", czardamage if inp in ["a", "e"] else "Brak")
        print("Mana:", mana)
        print("Złoto:", kasa)
    elif wybor == "d":
        wydarzenia()
    elif wybor == "e":
        print("Koniec gry")
        break
    else:
        print("zły wybór(ty widzisz co ty klikasz XD)")
